"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return(b=_toPropertyKey(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"==_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!=_typeof(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}var SwipeListener=function(a,b){if(a){"undefined"!=typeof window&&function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}return"function"!=typeof window.CustomEvent&&void(a.prototype=window.Event.prototype,window.CustomEvent=a)}();b||(b={}),b=_objectSpread(_objectSpread({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0,touch:!0,mouse:!0}),b);var c=[],d=!1,e=function(){d=!0},f=function(a){d=!1,h(a)},g=function(a){d&&(a.changedTouches=[{clientX:a.clientX,clientY:a.clientY}],i(a))};b.mouse&&(a.addEventListener("mousedown",e),a.addEventListener("mouseup",f),a.addEventListener("mousemove",g));var h=function(d){var e=Math.abs,f=Math.max,g=Math.min;if(c.length){for(var h="function"==typeof TouchEvent&&d instanceof TouchEvent,j=[],k=[],l={top:!1,right:!1,bottom:!1,left:!1},m=0;m<c.length;m++)j.push(c[m].x),k.push(c[m].y);var n=j[0],o=j[j.length-1],p=k[0],q=k[k.length-1],r={x:[n,o],y:[p,q]};if(1<c.length){var s={detail:_objectSpread({touch:h,target:d.target},r)},t=new CustomEvent("swiperelease",s);a.dispatchEvent(t)}var u=j[0]-j[j.length-1],v="none";v=0<u?"left":"right";var w,x=g.apply(Math,j),y=f.apply(Math,j);if(e(u)>=b.minHorizontal&&("left"===v?(w=e(x-j[j.length-1]),w<=b.deltaHorizontal&&(l.left=!0)):"right"===v?(w=e(y-j[j.length-1]),w<=b.deltaHorizontal&&(l.right=!0)):void 0),u=k[0]-k[k.length-1],v="none",v=0<u?"top":"bottom",x=g.apply(Math,k),y=f.apply(Math,k),e(u)>=b.minVertical&&("top"===v?(w=e(x-k[k.length-1]),w<=b.deltaVertical&&(l.top=!0)):"bottom"===v?(w=e(y-k[k.length-1]),w<=b.deltaVertical&&(l.bottom=!0)):void 0),c=[],l.top||l.right||l.bottom||l.left){b.lockAxis&&((l.left||l.right)&&e(n-o)>e(p-q)?l.top=l.bottom=!1:(l.top||l.bottom)&&e(n-o)<e(p-q)&&(l.left=l.right=!1));var z={detail:_objectSpread({directions:l,touch:h,target:d.target},r)},A=new CustomEvent("swipe",z);a.dispatchEvent(A)}else{var B=new CustomEvent("swipecancel",{detail:_objectSpread({touch:h,target:d.target},r)});a.dispatchEvent(B)}}},i=function(d){var e=d.changedTouches[0];if(c.push({x:e.clientX,y:e.clientY}),1<c.length){var f=c[0].x,g=c[c.length-1].x,h=c[0].y,i=c[c.length-1].y,j={detail:{x:[f,g],y:[h,i],touch:"function"==typeof TouchEvent&&d instanceof TouchEvent,target:d.target}},k=new CustomEvent("swiping",j),l=!0===b.preventScroll||"function"==typeof b.preventScroll&&b.preventScroll(k);l&&d.preventDefault(),a.dispatchEvent(k)}},j=!1;try{var k=Object.defineProperty({},"passive",{get:function(){j={passive:!b.preventScroll}}});window.addEventListener("testPassive",null,k),window.removeEventListener("testPassive",null,k)}catch(a){}return b.touch&&(a.addEventListener("touchmove",i,j),a.addEventListener("touchend",h)),{off:function(){a.removeEventListener("touchmove",i,j),a.removeEventListener("touchend",h),a.removeEventListener("mousedown",e),a.removeEventListener("mouseup",f),a.removeEventListener("mousemove",g)}}}};"undefined"!=typeof module&&"undefined"!=typeof module.exports?(module.exports=SwipeListener,module.exports["default"]=SwipeListener):"function"==typeof define&&define.amd?define([],function(){return SwipeListener}):window.SwipeListener=SwipeListener;